{% load static tailwind_tags %}
{% load humanize %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mortgage Calculator - {{ brand_name }}</title>
    {% tailwind_css %}
    <link rel="stylesheet" href="{% static 'css/dist/styles.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
<style>
    body {
        font-family: 'Inter', sans-serif;
    }
    
    /* Navbar styling is now handled globally in navbar.html */
    
    /* Dark theme styles */
    .dark-theme {
        background-color: #1a1a1a !important;
        color: #e5e5e5 !important;
    }
    
    .dark-theme .bg-gray-50 {
        background-color: #1a1a1a !important;
    }
    
    .dark-theme .bg-white {
        background-color: #2d2d2d !important;
    }
    
    .dark-theme .text-gray-900 {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .text-gray-700 {
        color: #d1d5db !important;
    }
    
    .dark-theme .text-gray-600 {
        color: #9ca3af !important;
    }
    
    .dark-theme .bg-blue-50 {
        background-color: #1e3a8a !important;
    }
    
    .dark-theme .bg-gray-100 {
        background-color: #374151 !important;
    }
    
    .dark-theme .border-gray-200 {
        border-color: #4b5563 !important;
    }
    
    .dark-theme .shadow-lg {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.1) !important;
    }
    
    /* Blue elements for dark mode */
    .dark-theme .bg-blue-600 {
        background-color: #1e40af !important;
    }
    
    .dark-theme .bg-blue-700 {
        background-color: #1d4ed8 !important;
    }
    
    .dark-theme .bg-blue-900 {
        background-color: #0f172a !important;
    }
    
    .dark-theme .hover\\:bg-blue-700:hover {
        background-color: #1e40af !important;
    }
    
    .dark-theme.bg-blue-900 {
        background-color: #0f172a !important;
    }
    
    /* Fix dropdown visibility in dark mode */
    .dark-theme select {
        background-color: #374151 !important;
        color: #e5e5e5 !important;
        border-color: #4b5563 !important;
    }
    
    .dark-theme select option {
        background-color: #374151 !important;
        color: #e5e5e5 !important;
    }
    
    /* Mortgage Calculator specific dark theme styles */
    .dark-theme .form-container {
        background: linear-gradient(135deg, #4c1d95 0%, #581c87 100%) !important;
    }
    
    .dark-theme .form-input {
        background-color: #374151 !important;
        border-color: #4b5563 !important;
        color: #e5e5e5 !important;
    }
    
    .dark-theme .form-input:focus {
        border-color: #667eea !important;
        background-color: #4b5563 !important;
    }
    
    .dark-theme .form-label {
        color: #d1d5db !important;
    }
    
    .dark-theme .results-card {
        background-color: #2d2d2d !important;
        border-color: #4b5563 !important;
    }
    
    .dark-theme .results-card h3 {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .results-card .text-3xl {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .results-card .text-gray-600 {
        color: #9ca3af !important;
    }
    
    .dark-theme .loan-type-card {
        background-color: #2d2d2d !important;
        border-color: #4b5563 !important;
    }
    
    .dark-theme .loan-type-card h3 {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .loan-type-card p {
        color: #d1d5db !important;
    }
    
    .dark-theme .loan-type-card ul li {
        color: #d1d5db !important;
    }
    
    .dark-theme .hero-bg h1 {
        color: #ffffff !important;
    }
    
    .dark-theme .hero-bg p {
        color: #e5e5e5 !important;
    }
    
    /* Feature cards dark theme */
    .dark-theme .feature-card {
        background-color: #2d2d2d !important;
        border-color: #4b5563 !important;
    }
    
    .dark-theme .feature-card h3 {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .feature-card p {
        color: #d1d5db !important;
    }
    
    /* Calculator form dark theme */
    .dark-theme .calculator-inner {
        background-color: #2d2d2d !important;
    }
    
    .dark-theme .calculator-inner h2 {
        color: #e5e5e5 !important;
    }
    
    /* Loan type cards dark theme */
    .dark-theme .loan-type-card {
        background-color: #2d2d2d !important;
        border-color: #4b5563 !important;
    }
    
    .dark-theme .loan-type-card h3 {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .loan-type-card p {
        color: #d1d5db !important;
    }
    
    .dark-theme .loan-type-card ul li {
        color: #d1d5db !important;
    }
    
    /* Results section dark theme */
    .dark-theme .results-section {
        background-color: #2d2d2d !important;
    }
    
    .dark-theme .results-section h3 {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .results-section .text-3xl {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .results-section .text-gray-600 {
        color: #9ca3af !important;
    }
    
    /* All white backgrounds in dark theme */
    .dark-theme .bg-white {
        background-color: #2d2d2d !important;
    }
    
    /* All gray text in dark theme */
    .dark-theme .text-gray-900 {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .text-gray-700 {
        color: #d1d5db !important;
    }
    
    .dark-theme .text-gray-600 {
        color: #9ca3af !important;
    }
    
    .dark-theme .text-gray-500 {
        color: #9ca3af !important;
    }
    
    /* Results section specific dark theme */
    .dark-theme .results-container {
        background-color: #2d2d2d !important;
        border-color: #4b5563 !important;
    }
    
    .dark-theme .results-container h2 {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .result-item {
        background-color: #374151 !important;
        border-color: #4b5563 !important;
    }
    
    .dark-theme .result-label {
        color: #d1d5db !important;
    }
    
    .dark-theme .result-value {
        color: #e5e5e5 !important;
    }
    
    .dark-theme .result-value.primary {
        color: #60a5fa !important;
    }

    /* Hero section styling */
    .hero-bg {
        background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 100%), 
                    url('https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2073&q=80');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        position: relative;
    }

    .hero-bg::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
        pointer-events: none;
    }

    /* Calculator styling */
    .calculator-container {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 24px;
        padding: 3px;
        box-sizing: border-box;
        box-shadow: 0 20px 40px rgba(102, 126, 234, 0.15);
        display: flex;
        flex-direction: column;
        align-items: stretch;
    }

    .calculator-inner {
        background: white;
        border-radius: 21px;
        padding: 40px;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        flex: 1;
    }
    
    #mortgage-form {
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 24px;
    }

    .input-group {
        position: relative;
        margin-bottom: 0;
    }

    .form-input {
        padding: 16px 20px;
        border: 2px solid #e5e7eb;
        border-radius: 12px;
        font-size: 16px;
        transition: all 0.3s ease;
        background: white;
        color: #374151;
        line-height: 1.5;
        height: auto;
        min-height: unset;
        box-sizing: border-box;
        font-family: 'Inter', sans-serif;
        width: 100%;
    }

    .form-input:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        transform: translateY(-1px);
    }

    .form-label {
        display: block;
        color: #374151;
        font-weight: 600;
        margin-bottom: 8px;
        font-size: 14px;
        font-family: 'Inter', sans-serif;
    }

    .calculate-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 18px 32px;
        border: none;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        line-height: 1.5;
        height: auto;
        font-family: 'Inter', sans-serif;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        width: 100%;
    }

    .calculate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
    }

    /* Results styling */
    .results-container {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 20px;
        padding: 32px 24px;
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .result-item {
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 16px;
        padding: 24px;
        text-align: center;
        transition: all 0.3s ease;
        margin-bottom: 16px;
    }

    .result-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        background: #f3f4f6;
    }

    .result-label {
        color: #6b7280;
        font-size: 0.875rem;
        font-weight: 500;
        margin-bottom: 8px;
    }

    .result-value {
        color: #374151;
        font-size: 1.75rem;
        font-weight: 700;
    }

    .result-value.primary {
        color: #667eea;
        font-size: 2.5rem;
    }

    /* Feature cards */
    .feature-card {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 20px;
        padding: 32px 24px;
        text-align: center;
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .feature-card:hover {
        transform: translateY(-8px);
        background: white;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    .feature-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 24px;
        font-size: 32px;
        color: white;
        position: relative;
        z-index: 1;
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
    }

    /* Floating elements */
    .floating-shape {
        position: absolute;
        border-radius: 50%;
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
        animation: float 6s ease-in-out infinite;
    }

    .floating-shape:nth-child(1) {
        width: 100px;
        height: 100px;
        top: 10%;
        left: 10%;
        animation-delay: 0s;
    }

    .floating-shape:nth-child(2) {
        width: 60px;
        height: 60px;
        top: 60%;
        right: 15%;
        animation-delay: 2s;
    }

    .floating-shape:nth-child(3) {
        width: 80px;
        height: 80px;
        bottom: 20%;
        left: 20%;
        animation-delay: 4s;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
    }

    /* Responsive improvements */
    @media (max-width: 768px) {
        .calculator-inner {
            padding: 24px;
        }
        
        .feature-card {
            padding: 24px 16px;
        }
        
        .hero-bg {
            background-attachment: scroll;
        }
    }
</style>
</head>
<body class="bg-gray-50">

{% include 'Henry/navbar.html' %}

<!-- Hero Section -->
<section class="hero-bg py-20 relative overflow-hidden">
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>
    
    <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16">
                <h1 class="text-5xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight">
                    Calculate Your 
                    <span class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">Mortgage</span>
                </h1>
                <p class="text-xl md:text-2xl text-gray-700 max-w-4xl mx-auto leading-relaxed">
                    Get accurate mortgage payment estimates and explore different loan options with our professional calculator. Plan your home purchase with confidence.
                </p>
            </div>
            
            <!-- Feature Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-4 relative z-10">Accurate Calculations</h3>
                    <p class="text-gray-700 text-base leading-relaxed relative z-10">Get precise mortgage payment estimates with our advanced calculator that includes all costs and fees.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-4 relative z-10">Payment Breakdown</h3>
                    <p class="text-gray-700 text-base leading-relaxed relative z-10">See detailed breakdown of principal, interest, taxes, and insurance for complete transparency.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-compare"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-4 relative z-10">Compare Options</h3>
                    <p class="text-gray-700 text-base leading-relaxed relative z-10">Compare different loan terms, down payments, and interest rates to find the best option for you.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form Section -->
<section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
            <!-- Contact Form -->
            <div class="results-container">
                    <h2 class="text-3xl font-bold mb-8 text-center text-gray-900">Get Personalized Mortgage Information</h2>
                    <p class="text-center text-gray-600 mb-8">Our team will analyze your specific situation and provide you with accurate, up-to-date mortgage information tailored to your needs.</p>
                    
                    <form method="post" action="{% url 'mortgage_inquiry' %}" class="space-y-6" id="mortgageInquiryForm">
                        {% csrf_token %}
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Name *</label>
                                <input type="text" name="name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Email *</label>
                                <input type="email" name="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Phone *</label>
                                <input type="tel" name="phone" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Property Type</label>
                                <select name="property_type" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="">Select Property Type</option>
                                    <option value="house">House</option>
                                    <option value="apartment">Apartment</option>
                                    <option value="condo">Condo</option>
                                    <option value="townhouse">Townhouse</option>
                                    <option value="commercial">Commercial</option>
                                </select>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Home Price</label>
                                <input type="number" name="home_price" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter home price">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Down Payment</label>
                                <input type="number" name="down_payment" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter down payment amount">
                </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Loan Term (Years)</label>
                                <select name="loan_term" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="">Select Loan Term</option>
                                    <option value="15">15 Years</option>
                                    <option value="20">20 Years</option>
                                    <option value="25">25 Years</option>
                                    <option value="30">30 Years</option>
                                </select>
                        </div>
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">Credit Score Range</label>
                                <select name="credit_score" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="">Select Credit Score Range</option>
                                    <option value="excellent">Excellent (750+)</option>
                                    <option value="good">Good (700-749)</option>
                                    <option value="fair">Fair (650-699)</option>
                                    <option value="poor">Poor (Below 650)</option>
                                </select>
                        </div>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">Additional Information</label>
                            <textarea name="additional_info" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Tell us about your specific mortgage needs, questions, or any special circumstances..."></textarea>
                        </div>
                        <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition duration-300">
                            Get Personalized Mortgage Information
                        </button>
                    </form>
            </div>
        </div>
    </div>
</section>

<!-- Loan Types Section -->
<section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
                    <span class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">Mortgage Calculator</span>
                </h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-4 relative z-10">Conventional Loans</h3>
                    <p class="text-gray-700 text-base leading-relaxed relative z-10 mb-4">Traditional mortgages with 20% down payment and competitive interest rates.</p>
                    <ul class="text-sm text-gray-600 space-y-2 relative z-10">
                        <li>• 20% down payment required</li>
                        <li>• No PMI with 20% down</li>
                        <li>• Competitive rates</li>
                        <li>• Flexible terms</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-4 relative z-10">FHA Loans</h3>
                    <p class="text-gray-700 text-base leading-relaxed relative z-10 mb-4">Government-backed loans with lower down payment requirements.</p>
                    <ul class="text-sm text-gray-600 space-y-2 relative z-10">
                        <li>• 3.5% down payment</li>
                        <li>• Lower credit score requirements</li>
                        <li>• Mortgage insurance required</li>
                        <li>• Great for first-time buyers</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-university"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-4 relative z-10">VA Loans</h3>
                    <p class="text-gray-700 text-base leading-relaxed relative z-10 mb-4">Special loans for veterans and active military personnel.</p>
                    <ul class="text-sm text-gray-600 space-y-2 relative z-10">
                        <li>• 0% down payment</li>
                        <li>• No PMI required</li>
                        <li>• Competitive rates</li>
                        <li>• VA funding fee</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>


<script>
// Theme Toggle Functionality
document.addEventListener("DOMContentLoaded", function() {
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');
    const body = document.body;
    
    // Check for saved theme preference or default to light theme
    const currentTheme = localStorage.getItem('theme') || 'light';
    
    // Apply the saved theme
    if (currentTheme === 'dark') {
        body.classList.add('dark-theme');
        themeIcon.className = 'fas fa-sun text-white text-base';
    } else {
        body.classList.remove('dark-theme');
        themeIcon.className = 'fas fa-moon text-white text-base';
    }
    
    // Theme toggle event listener
    themeToggle.addEventListener('click', function() {
        if (body.classList.contains('dark-theme')) {
            // Switch to light theme
            body.classList.remove('dark-theme');
            themeIcon.className = 'fas fa-moon text-white text-base';
            localStorage.setItem('theme', 'light');
        } else {
            // Switch to dark theme
            body.classList.add('dark-theme');
            themeIcon.className = 'fas fa-sun text-white text-base';
            localStorage.setItem('theme', 'dark');
        }
    });
});

// Form submission handling for mortgage inquiry
document.getElementById('mortgageInquiryForm').addEventListener('submit', function(e) {
    // Show loading modal
    document.getElementById('submissionModal').classList.remove('hidden');
    
    // The form will submit normally, but we show the loading state
    // The success message will be handled by Django's messages framework
});

// Function to close success modal
function closeSuccessModal() {
    document.getElementById('successModal').classList.add('hidden');
}

// Check if there's a success message from Django
document.addEventListener('DOMContentLoaded', function() {
    // First, ensure all modals are hidden on page load
    document.getElementById('submissionModal').classList.add('hidden');
    document.getElementById('successModal').classList.add('hidden');
    
    // Check for Django success messages (they might be in different formats)
    const successMessages = document.querySelectorAll('.messages .alert-success, .alert-success, .success');
    if (successMessages.length > 0) {
        // Hide loading modal if it's showing
        document.getElementById('submissionModal').classList.add('hidden');
        // Show success modal
        document.getElementById('successModal').classList.remove('hidden');
    }
    
    // Check for URL parameters or specific success indicators
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('success') === 'true' || urlParams.get('submitted') === 'true') {
        document.getElementById('submissionModal').classList.add('hidden');
        document.getElementById('successModal').classList.remove('hidden');
    }
});

// Close modals when clicking outside
document.getElementById('submissionModal').addEventListener('click', function(e) {
    if (e.target === this) {
        this.classList.add('hidden');
    }
});

document.getElementById('successModal').addEventListener('click', function(e) {
    if (e.target === this) {
        this.classList.add('hidden');
    }
});
</script>

    <!-- Popup Modal for Form Submission -->
    <div id="submissionModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md mx-4 text-center shadow-2xl">
            <div class="mb-4">
                <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-blue-600 dark:text-blue-400 animate-spin" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Sending Your Inquiry</h3>
                <p class="text-gray-600 dark:text-gray-300">Please wait while we process your request...</p>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md mx-4 text-center shadow-2xl">
            <div class="mb-4">
                <div class="w-8 h-8 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-4 h-4 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="stroke-width: 3;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Inquiry Sent Successfully!</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6">Thank you for your interest. Our team will contact you soon with personalized mortgage information.</p>
                <button onclick="closeSuccessModal()" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg transition duration-300">
                    Close
                </button>
            </div>
        </div>
    </div>

    <style>
    /* Modal styles to override any conflicts */
    #submissionModal, #successModal {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
    }

    #submissionModal:not(.hidden), #successModal:not(.hidden) {
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
        pointer-events: auto !important;
    }

    /* Ensure checkmark is small and visible */
    #successModal svg {
        width: 16px !important;
        height: 16px !important;
        stroke-width: 3 !important;
    }
    </style>

{% include 'Henry/footer.html' %}

</body>
</html>
